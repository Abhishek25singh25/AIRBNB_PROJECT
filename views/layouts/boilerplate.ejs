<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Airbnb Clone</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/style.css">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body>

<!-- ================= NAVBAR ================= -->

<nav class="navbar custom-navbar fixed-top">
  <div class="container d-flex align-items-center justify-content-between">

    <!-- LOGO -->
    <a class="navbar-brand" href="/listings">
      <img src="/images/airbnb-logo.svg"
           alt="Airbnb Logo"
           class="airbnb-logo">
    </a>

    <!-- SEARCH -->
    <form action="/listings" method="GET" class="search-bar d-none d-md-flex align-items-center">
      <input type="text"
             name="search"
             placeholder="Search destinations"
             class="search-input"
             value="<%= typeof search !== 'undefined' ? search : '' %>">
      <button class="search-btn">
        <i class="fa-solid fa-magnifying-glass"></i>
      </button>
    </form>

    <!-- RIGHT -->
    <div>
      <% if(!currentUser) { %>
        <a href="/login" class="btn btn-outline-dark me-2">Login</a>
        <a href="/register" class="btn btn-danger">Sign up</a>
      <% } else { %>
        <span class="me-3 fw-semibold">
          Hello, <%= currentUser.username %>
        </span>
        <a href="/logout" class="btn btn-outline-danger">Logout</a>
      <% } %>
    </div>

  </div>
</nav>

<!-- ================= FLASH ================= -->

<% if(success && success.length > 0) { %>
  <div class="alert alert-success flash-message shadow">
    <%= success %>
  </div>
<% } %>

<% if(error && error.length > 0) { %>
  <div class="alert alert-danger flash-message shadow">
    <%= error %>
  </div>
<% } %>

<!-- ================= MAIN ================= -->

<div class="container main-content">
  <%- body %>
</div>

<!-- ================= FOOTER ================= -->

<footer class="footer mt-5">
  <div class="container py-5">

    <div class="row">

      <div class="col-md-4 mb-4">
        <h6 class="fw-bold mb-3">Support</h6>
        <p>Help Center</p>
        <p>Safety information</p>
        <p>Cancellation options</p>
      </div>

      <div class="col-md-4 mb-4">
        <h6 class="fw-bold mb-3">Community</h6>
        <p>Diversity & belonging</p>
        <p>Accessibility</p>
        <p>Invite friends</p>
      </div>

      <div class="col-md-4 mb-4">
        <h6 class="fw-bold mb-3">About</h6>
        <p>How Airbnb works</p>
        <p>Careers</p>
        <p>Investors</p>
      </div>

    </div>

    <hr>

    <div class="d-flex justify-content-between align-items-center flex-wrap">

      <p class="mb-2 mb-md-0 small">
        Â© 2026 Airbnb Clone
      </p>

      <div class="social-icons">
        <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
        <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
      </div>

    </div>

  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
  setTimeout(() => {
    const alerts = document.querySelectorAll(".flash-message");
    alerts.forEach(alert => {
      alert.style.opacity = "0";
      setTimeout(() => alert.remove(), 500);
    });
  }, 2500);
</script>

</body>
</html>